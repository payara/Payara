<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:cc="http://java.sun.com/jsf/composite"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:tr="http://myfaces.apache.org/trinidad">

    <!-- INTERFACE -->
    <cc:interface>
        <cc:attribute name="title" required="false" type="java.lang.String"/>
        <cc:attribute name="currentStep" required="true" type="java.lang.Integer"/>
        <cc:attribute name="stepLabels" required="true" type="java.util.List"/>
        <cc:attribute name="stepPages" required="true" type="java.util.List"/>
    </cc:interface>

    <!-- IMPLEMENTATION -->
    <cc:implementation>
        <style type="text/css">
            .wizardNav {
                font-size: larger;
                margin: 7px;
                background-color: #CCD6E8; 
                vertical-align: top;
                height: 400px;
                min-width: 160px;
            }

            .wizardBody {
                vertical-align: top;
                border-left: 1px solid #949494;
                padding: 0px 10px 10px 10px;
                min-width: 600px;
            }
        </style>
        <tr:panelBox id="#{cc.clientId}" text="#{empty cc.attrs.title ? 'Wizard Title' : cc.attrs.title}"
                     inlineStyle="width: 600px; margin: auto" contentStyle="padding: 0;">
            <div style="height: 100%; width: 100%; position: relative">
            <table cellpadding="10" cellspacing="0">
                <tr>
                    <td class="wizardNav">
                        <table>
                            <ui:repeat var="label" value="#{cc.attrs.stepLabels}" varStatus="status">
                                <tr>
                                    <td nowrap="true">
                                        <h:outputText rendered="#{status.index == cc.attrs.currentStep}" style="font-weight: bold" value="#{label}"/>
                                        <h:outputText rendered="#{status.index != cc.attrs.currentStep}" value="#{label}"/>
                                    </td>
                                </tr>
                            </ui:repeat>
                        </table>
                    </td>
                    <td class="wizardBody">
                        <ui:include src="#{cc.attrs.stepPages[cc.attrs.currentStep]}"/>
                    </td>
                </tr>
            </table>
            </div>
        </tr:panelBox>
    </cc:implementation>
</html>

<!DOCTYPE html>
<!--

    Copyright (c) 2017, 2019 Oracle and/or its affiliates. All rights reserved.

    This program and the accompanying materials are made available under the
    terms of the Eclipse Public License v. 2.0, which is available at
    http://www.eclipse.org/legal/epl-2.0.

    This Source Code may also be made available under the following Secondary
    Licenses when the conditions for such availability set forth in the
    Eclipse Public License v. 2.0 are satisfied: GNU General Public License,
    version 2 with the GNU Classpath Exception, which is available at
    https://www.gnu.org/software/classpath/license.html.

    SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0

-->
<!-- Portions Copyright [2019] [Payara Foundation and/or its affiliates] -->
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>configure-lb-weight</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css/style.css" rel="stylesheet">
    <script src="https://use.fontawesome.com/96c4d89611.js"></script>
  </head>
  <body>
<table id="doc-title" cellspacing="0" cellpadding="0">
  <tr>
  <td align="left" valign="top">
  <b>configure-lb-weight</b><br />
  </td>
  </tr>
</table>
<hr />

<table width="90%" id="top-nav" cellspacing="0" cellpadding="0">
	<colgroup>
		<col width="12%"/>
		<col width="12%"/>
		<col width="*"/>
	</colgroup>
	<tr>
		<td align="left">
		<a href="configure-jms-cluster.html">
			<span class="vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Previous</span>
		</a>
		</td>

		<td align="left">
		<a href="configure-ldap-for-admin.html">
			<span class=" vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Next</span>
		</a>
		</td>

		<td align="right">
		<a href="toc.html">
			<span class=" vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Contents</span>
		</a>
		</td>
	</tr>
</table>


<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><a id="configure-lb-weight-1"></a><a id="GSRFM00009"></a><a id="configure-lb-weight"></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configure_lb_weight">configure-lb-weight</h2>
<div class="sectionbody">
<div class="paragraph">
<p>sets load balancing weights for clustered instances</p>
</div>
<div id="sthref85" class="paragraph">
<p>Synopsis</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">asadmin [asadmin-options] configure-lb-weight [--help]
--cluster cluster_name
instance-name=weight[:instance-name=weight]</code></pre>
</div>
</div>
<div id="sthref86" class="paragraph">
<p>Description</p>
</div>
<div class="paragraph">
<p>The <code>configure-lb-weight</code> subcommand assigns weight to the server
instances in a cluster. Weights can be used for HTTP, RMI/IIOP and JMS
load balancing. For the HTTP load balancer, the weights are used only if
the load balancer&#8217;s policy is set to <code>weighted-round-robin</code>. The load
balancer policy is set in the <code>create-http-lb-ref</code> subcommand or <code>set</code>
subcommand.</p>
</div>
<div class="paragraph">
<p>Use the weight to vary the load going to different instances in the
cluster. For example, if an instance is on a machine with more capacity,
give it a higher weight so that more requests are sent to that instance
by the load balancer. The default weight is 100. If all instances have
the default weight, the load balancer performs simple round robin load
balancing.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>This subcommand is only applicable to Oracle GlassFish Server. This
subcommand is not applicable to GlassFish Server Open Source Edition.</p>
</div>
</td>
</tr>
</table>
</div>
<div id="sthref87" class="paragraph">
<p>Options</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">asadmin-options</dt>
<dd>
<p>Options for the <code>asadmin</code> utility. For information about these
options, see the <a href="asadmin.html#asadmin-1m"><code>asadmin</code>(1M)</a> help page.</p>
</dd>
<dt class="hdlist1"><code>--help</code></dt>
<dt class="hdlist1"><code>-?</code></dt>
<dd>
<p>Displays the help text for the subcommand.</p>
</dd>
<dt class="hdlist1"><code>--cluster</code></dt>
<dd>
<p>The name of the cluster.</p>
</dd>
</dl>
</div>
<div id="sthref88" class="paragraph">
<p>Operands</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">instance-name=weight</dt>
<dd>
<p>The name of the instance and the weight you are assigning it. The
weight must be an integer. The pairs of instances and weights are
separated by colons. For example <code>instance1=1:instance2=4</code> means that
for every five requests, one goes to instance1 and four go to
instance2. A weight of 1 is the default.</p>
</dd>
</dl>
</div>
<div id="sthref89" class="paragraph">
<p>Examples</p>
</div>
<div class="paragraph">
<p><a id="GSRFM454"></a><a id="sthref90"></a></p>
</div>
<div class="paragraph">
<p>Example 1   Assigning Load Balancer Weights to Cluster Instances</p>
</div>
<div class="paragraph">
<p>The following subcommand assigns weights of <code>1</code>, <code>1</code>, and <code>2</code> to
instances <code>i1</code>, <code>i2</code>, and <code>i3</code> in the <code>cluster1</code> cluster.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">asadmin&gt; configure-lb-weight --cluster cluster1 i1=1:i2=1:i3=2
Command configure-lb-weight executed successfully.</code></pre>
</div>
</div>
<div id="sthref91" class="paragraph">
<p>Exit Status</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">0</dt>
<dd>
<p>subcommand executed successfully</p>
</dd>
<dt class="hdlist1">1</dt>
<dd>
<p>error in executing the subcommand</p>
</dd>
</dl>
</div>
<div id="sthref92" class="paragraph">
<p>See Also</p>
</div>
<div class="paragraph">
<p><a href="asadmin.html#asadmin-1m"><code>asadmin</code>(1M)</a></p>
</div>
<div class="paragraph">
<p><a href="create-http-lb-ref.html#create-http-lb-ref-1"><code>create-http-lb-ref</code>(1)</a><a href="create-cluster.html#create-cluster-1"><code>create-cluster</code>(1)</a></p>
</div>
</div>
</div>

<hr />

<table width="90%" id="bottom-nav" cellspacing="0" cellpadding="0">
	<colgroup>
		<col width="12%"/>
		<col width="12%"/>
		<col width="*"/>
	</colgroup>
	<tr>		
		<td align="left">
		<a href="configure-jms-cluster.html">
			<span class=" vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Previous</span>
		</a>
		</td>

		<td align="left">
		<a href="configure-ldap-for-admin.html">
			<span class="vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Next</span>
		</a>
		</td>

		<td align="right">
		<a href="toc.html">
			<span class="vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Contents</span>
		</a>
		</td>
	</tr>
</table>

<span id="copyright">
        <img src="/resource/reference/img/eclipse_foundation_logo_tiny.png" height="20px" alt="Eclipse Foundation Logo" align="top"/>&nbsp;            
        <span >Copyright&nbsp;&copy;&nbsp;2019,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.</span>
</span>

</body>
</html>

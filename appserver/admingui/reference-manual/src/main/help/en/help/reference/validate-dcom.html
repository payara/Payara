
<!DOCTYPE html>
<!--

    Copyright (c) 2017, 2019 Oracle and/or its affiliates. All rights reserved.

    This program and the accompanying materials are made available under the
    terms of the Eclipse Public License v. 2.0, which is available at
    http://www.eclipse.org/legal/epl-2.0.

    This Source Code may also be made available under the following Secondary
    Licenses when the conditions for such availability set forth in the
    Eclipse Public License v. 2.0 are satisfied: GNU General Public License,
    version 2 with the GNU Classpath Exception, which is available at
    https://www.gnu.org/software/classpath/license.html.

    SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0

-->
<!-- Portions Copyright [2019] [Payara Foundation and/or its affiliates] -->
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>validate-dcom</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css/style.css" rel="stylesheet">
    <script src="https://use.fontawesome.com/96c4d89611.js"></script>
  </head>
  <body>
<table id="doc-title" cellspacing="0" cellpadding="0">
  <tr>
  <td align="left" valign="top">
  <b>validate-dcom</b><br />
  </td>
  </tr>
</table>
<hr />

<table width="90%" id="top-nav" cellspacing="0" cellpadding="0">
	<colgroup>
		<col width="12%"/>
		<col width="12%"/>
		<col width="*"/>
	</colgroup>
	<tr>
		<td align="left">
		<a href="uptime.html">
			<span class="vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Previous</span>
		</a>
		</td>

		<td align="left">
		<a href="validate-multicast.html">
			<span class=" vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Next</span>
		</a>
		</td>

		<td align="right">
		<a href="toc.html">
			<span class=" vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Contents</span>
		</a>
		</td>
	</tr>
</table>


<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><a id="validate-dcom-1"></a><a id="GSRFM796"></a><a id="validate-dcom"></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_validate_dcom">validate-dcom</h2>
<div class="sectionbody">
<div class="paragraph">
<p>tests the connection over DCOM to a remote host</p>
</div>
<div id="sthref2323" class="paragraph">
<p>Synopsis</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">asadmin [asadmin-options] validate-dcom [--help]
[--windowsuser windows-user] [--windowsdomain windows-domain]
[--remotetestdir remote-test-directory]
[--verbose={false|true}] host-name</code></pre>
</div>
</div>
<div id="sthref2324" class="paragraph">
<p>Description</p>
</div>
<div class="paragraph">
<p>The <code>validate-dcom</code> subcommand tests the connection over the Distributed
Component Object Model (DCOM) remote protocol to the remote host that is
specified as the operand of the subcommand. The DCOM protocol is
available only on Windows systems.</p>
</div>
<div class="paragraph">
<p>The prerequisites for running this subcommand are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>DCOM must be configured on the host where the domain administration
server (DAS) is running and on the remote host that is specified as the
operand of the subcommand.</p>
</li>
<li>
<p>The following ports must be open on the remote host:</p>
<div class="ulist">
<ul>
<li>
<p>DCOM port 135 or 139</p>
</li>
<li>
<p>Windows Shares port 445</p>
</li>
</ul>
</div>
</li>
<li>
<p>The Server Windows Service is enabled on the remote host.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This subcommand verifies whether the prerequisites for creating a DCOM
node or creating a \{product---name} instance on a DCOM node are met. If
this subcommand fails, any attempt to create a DCOM node or create an
instance on a DCOM node will also fail.</p>
</div>
<div class="paragraph">
<p>You may run this command from any machine that can contact the DAS.</p>
</div>
<div class="paragraph">
<p>The subcommand tests the connection over DCOM to the remote host by
performing the following operations on the remote host:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Resolving the host name</p>
</li>
<li>
<p>Connecting to DCOM through port 135 or 139</p>
</li>
<li>
<p>Connecting to Windows Shares through port 445</p>
</li>
<li>
<p>Copying a script that is named <code>delete_me.bat</code> in the folder that is
specified by the <code>--remotetestdir</code> option</p>
</li>
<li>
<p>Running the script to obtain a listing of the folder in which the
<code>delete_me.bat</code> was written</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>By default, the subcommand displays no information about the operations
that are performed to test the connection to the remote host. To display
information about these operations, set the <code>--verbose</code> option to
<code>true</code>.</p>
</div>
<div class="paragraph">
<p>This subcommand is supported in remote mode only.</p>
</div>
<div id="sthref2325" class="paragraph">
<p>Options</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">asadmin-options</dt>
<dd>
<p>Options for the <code>asadmin</code> utility. For information about these
options, see the <a href="asadmin.html#asadmin-1m"><code>asadmin</code>(1M)</a> help page.</p>
</dd>
<dt class="hdlist1"><code>--help</code></dt>
<dt class="hdlist1"><code>-?</code></dt>
<dd>
<p>Displays the help text for the subcommand.</p>
</dd>
<dt class="hdlist1"><code>--windowsuser</code></dt>
<dt class="hdlist1"><code>-w</code></dt>
<dd>
<p>The user on the remote host that is to run the process for connecting
to that host through DCOM. The default is the user that is running the
DAS process.</p>
</dd>
<dt class="hdlist1"><code>--windowsdomain</code></dt>
<dt class="hdlist1"><code>-d</code></dt>
<dd>
<p>The name of the Windows domain that contains the user that the
<code>--windowsuser</code> option specifies. The default is the name of the host
on which the subcommand is run.</p>
</dd>
<dt class="hdlist1"><code>--remotetestdir</code></dt>
<dd>
<p>Specifies the folder on the remote host in which the subcommand
creates the <code>delete_me.bat</code> file. The user that the <code>--windowsuser</code>
option specifies must have write access to this folder. Otherwise an
error occurs. The default is <code>C:\</code></p>
</dd>
<dt class="hdlist1"><code>--verbose</code></dt>
<dt class="hdlist1"><code>-v</code></dt>
<dd>
<p>Specifies whether the subcommand displays information about the
operations that are performed to test the connection to the remote
host.<br>
Possible values are as follows:<br></p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>false</code></dt>
<dd>
<p>No information about the operations that are performed to test the
connection is displayed (default).</p>
</dd>
<dt class="hdlist1"><code>true</code></dt>
<dd>
<p>The subcommand displays information about the operations that are
performed to test the connection.<br>
If the <code>--verbose</code> option is true and the <code>AS_DEBUG</code> environment
variable is set, the subcommand also displays the command line for
each process that is running on the remote host.</p>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
<div id="sthref2326" class="paragraph">
<p>Operands</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">host-name</dt>
<dd>
<p>The name of the host to which to test the connection over DCOM.</p>
</dd>
</dl>
</div>
<div id="sthref2327" class="paragraph">
<p>Examples</p>
</div>
<div class="paragraph">
<p><a id="GSRFM834"></a><a id="sthref2328"></a></p>
</div>
<div class="paragraph">
<p>Example 1   Testing the Connection Over DCOM to a Remote Host</p>
</div>
<div class="paragraph">
<p>This example tests the connection over DCOM to the host <code>wpmdl2</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">asadmin&gt; validate-dcom --wpmdl2
Command validate-dcom executed successfully.</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="GSRFM797"></a><a id="sthref2329"></a></p>
</div>
<div class="paragraph">
<p>Example 2   Verbosely Testing the Connection Over DCOM to a Remote Host</p>
</div>
<div class="paragraph">
<p>This example tests the connection over DCOM to the host <code>wpmdl2</code> and
displays information about the operations that are performed to test the
connection to the remote host.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">asadmin&gt; validate-dcom --verbose wpmdl2

Successfully resolved host name to: wpmdl2/192.168.122.106
Successfully connected to DCOM Port at port 135 on host wpmdl2.
Successfully connected to NetBIOS Session Service at port 139 on host wpmdl2.
Successfully connected to Windows Shares at port 445 on host wpmdl2.
Successfully accessed C: on wpmdl2 using DCOM.
Successfully wrote delete_me.bat to C: on wpmdl2 using DCOM.
Successfully accessed WMI (Windows Management Interface) on wpmdl2. There are 40
processes running on wpmdl2.
Successfully ran the test script on wpmdl2 using DCOM.
The script simply ran the DIR command. Here are the first few lines from the
output of the dir command on the remote machine:

C:\Windows\system32&gt;dir C:\
 Volume in drive C has no label.
 Volume Serial Number is XXXX-XXX

 Directory of C:\

12/05/2011  10:21 AM                63 .asadminpass
02/15/2011  01:08 PM    &lt;DIR&gt;          aroot
12/05/2011  04:43 PM                 8 delete_me.bat
03/03/2011  10:36 AM    &lt;DIR&gt;          export

Command validate-dcom executed successfully.</code></pre>
</div>
</div>
<div id="sthref2330" class="paragraph">
<p>Exit Status</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">0</dt>
<dd>
<p>command executed successfully</p>
</dd>
<dt class="hdlist1">1</dt>
<dd>
<p>error in executing the command</p>
</dd>
</dl>
</div>
<div id="sthref2331" class="paragraph">
<p>See Also</p>
</div>
<div class="paragraph">
<p><a href="asadmin.html#asadmin-1m"><code>asadmin</code>(1M)</a></p>
</div>
<div class="paragraph">
<p><a href="create-node-dcom.html#create-node-dcom-1"><code>create-node-dcom</code>(1)</a>,
<a href="delete-node-dcom.html#delete-node-dcom-1"><code>delete-node-dcom</code>(1)</a>,
<a href="list-nodes.html#list-nodes-1"><code>list-nodes</code>(1)</a>,
<a href="ping-node-dcom.html#ping-node-dcom-1"><code>ping-node-dcom</code>(1)</a>,
<a href="update-node-ssh.html#update-node-dcom-1"><code>update-node-dcom</code>(1)</a></p>
</div>
</div>
</div>

<hr />

<table width="90%" id="bottom-nav" cellspacing="0" cellpadding="0">
	<colgroup>
		<col width="12%"/>
		<col width="12%"/>
		<col width="*"/>
	</colgroup>
	<tr>		
		<td align="left">
		<a href="uptime.html">
			<span class=" vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Previous</span>
		</a>
		</td>

		<td align="left">
		<a href="validate-multicast.html">
			<span class="vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Next</span>
		</a>
		</td>

		<td align="right">
		<a href="toc.html">
			<span class="vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Contents</span>
		</a>
		</td>
	</tr>
</table>

<span id="copyright">
        <img src="/resource/reference/img/eclipse_foundation_logo_tiny.png" height="20px" alt="Eclipse Foundation Logo" align="top"/>&nbsp;            
        <span >Copyright&nbsp;&copy;&nbsp;2019,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.</span>
</span>

</body>
</html>
